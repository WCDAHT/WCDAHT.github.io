<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="assets/logo.ico">
    <title>Steven's DF Tools</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="#" class="logo">
                Steven's DF Tools for DAs
            </a>
            <ul class="nav-links">
                <li><a href="https://github.com/BitEU" target="_blank">GitHub</a></li>
                <li><a href="https://www.linkedin.com/in/stevenrschiavone" target="_blank">LinkedIn</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content fade-in">
                <h1>Steven Schiavone's Digital Forensics Suite</h1>
                <p class="subtitle">Vehicle forensics, content redaction, and more!</p>
            </div>
        </div>
    </section>

    <!-- Description Section -->
            <div class="container">
            <div class="fade-in" style="max-width: 800px; margin: 0 auto; text-align: center;">
                <p style="font-size: 1.4rem; line-height: 1.8; color: #e0e0e0; margin: 0;">These tools are just a small sample of what is in use at the WCDAO and other offices. For authorized users who need support or access to tools not listed here, please contact me at <a href="mailto:sschiavone@westchesterda.net" style="color: #4a9eff; text-decoration: none;">sschiavone@westchesterda.net</a>.</p>
            </div>
        </div>
    </section>

    <!-- Tools Section -->
    <section id="tools" class="tools">
        <div class="container">
            <h2 class="section-title fade-in">Projects & Tools</h2>
            <div class="tools-grid">
                <!-- Tool Box 1: Hashbrown -->
                <div class="tool-card fade-in" data-tool-folder="content/Hashbrown" data-tool-extension=".zip">
                    <span class="tool-icon">üé¨</span>
                    <h3>Hashbrown</h3>
                    <p>A video redaction tool designed for legal and investigative professionals. It allows users to selectively mute audio within specific time segments of a video file.</p>
                    <div class="tool-buttons">
                        <a href="#" class="btn-download" download><span class="version-tag">Loading...</span></a>
                        <a href="reader.html?file=content/Hashbrown/readme.md" class="btn-read">Read More</a>
                    </div>
                </div>

                <!-- Tool Box 2: FENDER -->
                <div class="tool-card fade-in" data-tool-folder="content/FENDER" data-tool-extension=".exe">
                    <span class="tool-icon">üöó</span>
                    <h3>FENDER</h3>
                    <p>A tool to extract GPS location data from multiple vehicle manufacturers and provides an easy-to-use interface for forensic investigators.</p>
                    <div class="tool-buttons">
                        <a href="#" class="btn-download" download><span class="version-tag">Loading...</span></a>
                        <a href="reader.html?file=content/FENDER/readme.md" class="btn-read">Read More</a>
                    </div>
                </div>

                <!-- Tool Box 3: Google EI Parser -->
                <div class="tool-card fade-in" data-tool-folder="content/Google EI Parser" data-tool-extension=".exe">
                    <span class="tool-icon">üîç</span>
                    <h3>Google EI Parser</h3>
                    <p>Extracts and decodes the Google Search 'ei' parameter into human-readable timestamps.</p>
                    <div class="tool-buttons">
                        <a href="#" class="btn-download" download><span class="version-tag">Loading...</span></a>
                        <a href="reader.html?file=content/Google EI Parser/README.md" class="btn-read">Read More</a>
                    </div>
                </div>

                <!-- Tool Box 4: Message Maestro -->
                <div class="tool-card fade-in" data-tool-folder="content/Message Maestro" data-tool-extension=".exe">
                    <span class="tool-icon">üí¨</span>
                    <h3>Message Maestro</h3>
                    <p>View, tag, analyze, and export conversations from Kik, Snapchat, and Twitter.</p>
                    <div class="tool-buttons">
                        <a href="#" class="btn-download" download><span class="version-tag">Loading...</span></a>
                        <a href="reader.html?file=content/Message Maestro/readme.md" class="btn-read">Read More</a>
                    </div>
                </div>

                <!-- Tool Box 5: COMRADE -->
                <div class="tool-card fade-in" data-tool-folder="content/COMRADE" data-tool-extension=".exe">
                    <span class="tool-icon">üîó</span>
                    <h3>COMRADE</h3>
                    <p>A GUI application for visualizing and managing complex relationship networks, mainly for mapping organized criminal groups.</p>
                    <div class="tool-buttons">
                        <a href="#" class="btn-download" download><span class="version-tag">Loading...</span></a>
                        <a href="reader.html?file=content/COMRADE/README.md" class="btn-read">Read More</a>
                    </div>
                </div>

                <!-- Tool Box 6: Grits -->
                <div class="tool-card fade-in" data-tool-folder="content/Grits" data-tool-extension=".zip">
                    <span class="tool-icon">üîä</span>
                    <h3>Grits</h3>
                    <p>A media amplification tool that allows users to easily adjust the volume of video or audio files with preset or custom amplification options.</p>
                    <div class="tool-buttons">
                        <a href="#" class="btn-download" download><span class="version-tag">Loading...</span></a>
                        <a href="reader.html?file=content/Grits/readme.md" class="btn-read">Read More</a>
                    </div>
                </div>

                <!-- Tool Box 7: Toast -->
                <div class="tool-card fade-in" data-tool-folder="content/Toast" data-tool-extension=".zip">
                    <span class="tool-icon">üçû</span>
                    <h3>Toast</h3>
                    <p>A high-performance desktop app for visualizing call detail record (CDR) relationships with automatic community detection.</p>
                    <div class="tool-buttons">
                        <a href="#" class="btn-download" download><span class="version-tag">Loading...</span></a>
                        <a href="reader.html?file=content/Toast/README.md" class="btn-read">Read More</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 BitEU. All rights reserved.</p>
            </div>
        </div>
    </section>

    <script>
        // Dynamic download link loader using GitHub API
        async function loadLatestDownloads() {
            const toolCards = document.querySelectorAll('[data-tool-folder]');
            const repoOwner = 'WCDAHT';
            const repoName = 'WCDAHT.github.io';
            
            for (const card of toolCards) {
                const folder = card.getAttribute('data-tool-folder');
                const extension = card.getAttribute('data-tool-extension');
                const downloadBtn = card.querySelector('.btn-download');
                const versionTag = card.querySelector('.version-tag');
                
                try {
                    const response = await fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents/${folder}`);
                    const files = await response.json();
                    
                    // Filter files by extension
                    const matchingFiles = files.filter(file => file.name.endsWith(extension));
                    
                    if (matchingFiles.length > 0) {
                        // Sort by name (assumes version is in filename) - get the latest
                        matchingFiles.sort((a, b) => b.name.localeCompare(a.name));
                        const latestFile = matchingFiles[0];
                        
                        // Update download link
                        downloadBtn.href = `${folder}/${latestFile.name}`;
                        downloadBtn.setAttribute('download', latestFile.name);
                        
                        // Extract and display version (matches patterns like v0.7.1 or 0.2.5)
                        const versionMatch = latestFile.name.match(/v?(\d+\.\d+(?:\.\d+)?)/);
                        const version = versionMatch ? `v${versionMatch[1]}` : '';
                        versionTag.textContent = version;
                    } else {
                        versionTag.textContent = '(file not found)';
                    }
                } catch (error) {
                    console.error(`Error loading files for ${folder}:`, error);
                    versionTag.textContent = '(error loading)';
                }
            }
        }
        
        // Fade in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all fade-in elements
        document.addEventListener('DOMContentLoaded', () => {
            const fadeElements = document.querySelectorAll('.fade-in');
            fadeElements.forEach(el => observer.observe(el));

            // Trigger first animation immediately
            setTimeout(() => {
                document.querySelector('.hero .fade-in').classList.add('visible');
            }, 200);
            
            // Load latest download links
            loadLatestDownloads();
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>